<!doctype html>
<html>
	<head>
<style>
	textarea {
		display: block;
		min-width: 320px;
		min-height: 180px;
	}
</style>
	</head>
	<body>
		<textarea id="text-input"></textarea>
		<button id="submit-btn">submit</button>
		<textarea id="text-output"></textarea>
		<!-- <p id="text-output"></p> -->
		<!-- <textarea id="text"></textarea> -->
	<script>
		let input_elem = document.querySelector('#text-input');
		let output_elem = document.querySelector('#text-output');
		let submit_btn = document.querySelector('#submit-btn');
		// let test = document.querySelector('#text');
		submit_btn.addEventListener('click', (evt) => {
			// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#Supplying_request_options
			let req = fetch('http://172.25.102.36:8080/', {
				method: 'POST', 
				body: input_elem.value
			}).then((reply) => {
				// https://developer.mozilla.org/en-US/docs/Web/API/Response#Methods
				return reply.text();
			}).then((json_str) => {
				// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse
				let obj = JSON.parse(json_str);
				// document.getElementById("text-output").innerHTML= obj.content;
				output_elem.value = obj.content;
				// test = obj.link
				console.log(obj);
			});
		});
	</script>
	</body>
</html>
